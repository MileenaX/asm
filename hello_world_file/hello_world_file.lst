     1                                  global _start                      ; делаем метку метку _start видимой извне
     2                                   
     3                                  section .data                      ; секция данных
     4 00000000 48656C6C6F20776F72-         message db  "Hello world!",10  ; строка для вывода на консоль
     4 00000009 6C64210A           
     5                                      length  equ $ - message
     6                                      
     7 0000000D 6F75747075742E7478-         filename db "output.txt", 0    ; имя файла
     7 00000016 7400               
     8                                  
     9                                  section .bss
    10 00000000 ????????????????            file_descriptor resq 1	   ; место для хранения файлового дескриптора
    11                                  
    12                                  section .text                      ; объявление секции кода
    13                                  _start:                            ; точка входа в программу
    14 00000000 B802000000                  mov rax, 2			   ; системный вызов open
    15 00000005 48BF-                       mov rdi, filename		   ; имя файла
    15 00000007 [0D00000000000000] 
    16 0000000F BE41020000                  mov rsi, 577		   ; Флаги: O_WRONLY | O_CREAT | O_TRUNC (1 | 64 | 512 = 577)
    17 00000014 BAB6010000                  mov rdx, 0o666		   ; Права доступа к файлу
    18 00000019 0F05                        syscall
    19                                      
    20 0000001B 4883F800                    cmp rax, 0			   ; Проверка успешного открытия файла
    21 0000001F 7C4C                        jl error_exit
    22                                     
    23 00000021 48890425[00000000]          mov [file_descriptor], rax     ; Сохранение файлового дескриптора
    24                                     
    25 00000029 B801000000                  mov rax, 1                     ; 1 - номер системного вызова функции write
    26 0000002E 488B3C25[00000000]          mov rdi, [file_descriptor]                     ; дескриптор файла 
    27 00000036 48BE-                       mov rsi, message               ; адрес строки для вывод
    27 00000038 [0000000000000000] 
    28 00000040 BA0D000000                  mov rdx, length                ; количество байтов
    29 00000045 0F05                        syscall                        ; выполняем системный вызов write
    30                                      
    31 00000047 4883F800                    cmp rax, 0			   ; проверяем, что значение больше нуля
    32 0000004B 7C20                        jl error_exit
    33                                      
    34 0000004D 4839D0                      cmp rax, rdx		   ; проверяем, что значение равно длине строки
    35 00000050 751B                        jne error_exit
    36                                   
    37 00000052 B803000000                  mov rax, 3			   ; системный вызов close, закрываем файл
    38 00000057 488B3C25[00000000]          mov rdi, [file_descriptor]
    39 0000005F 0F05                        syscall
    40                                   
    41 00000061 B83C000000                  mov rax, 60                    ; 60 - номер системного вызова exit
    42 00000066 BF00000000                  mov rdi, 0
    43 0000006B 0F05                        syscall                        ; выполняем системный вызов exit
    44                                     
    45                                  error_exit:			   ;обработка ошибки
    46 0000006D B83C000000                  mov rax, 60		           
    47 00000072 BF01000000                  mov rdi, 1			   ;код возврата -1 (ошибка)
    48 00000077 0F05                        syscall
